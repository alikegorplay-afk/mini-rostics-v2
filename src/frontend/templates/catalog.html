{% extends "base.html" %}

{% block content %}
<link rel="stylesheet" href="/static/catalog-styles.css">

<div class="container">
    <section class="hero fade-in-up">
        <h1>Каталог товаров</h1>
        <p>Найдено товаров: {{ products|length }}</p>
    </section>

    <div class="catalog-grid" id="catalog">
        {% for product in products %}
        <div class="product-card" id="product-{{ product.id }}">
            <div class="product-image">
                <img src="{{ product.poster }}" alt="{{ product.title }}" 
                     onerror="this.src='/static/images/placeholder.jpg'">
            </div>
            <div class="product-info">
                <h3 class="product-title">{{ product.title }}</h3>
                <div class="product-price">{{ product.price }} ₽</div>
                {% if product.description %}
                <p class="product-description">{{ product.description[:100] }}{% if product.description|length > 100 %}...{% endif %}</p>
                {% endif %}
            </div>
        </div>
        {% else %}
        <div class="no-products">
            <p>Товары не найдены</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}